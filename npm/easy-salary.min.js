!function(n,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.Salary=a():n.Salary=a()}(this,(function(){return function(n){var a={};function e(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return n[r].call(t.exports,t,t.exports,e),t.l=!0,t.exports}return e.m=n,e.c=a,e.d=function(n,a,r){e.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,a){if(1&a&&(n=e(n)),8&a)return n;if(4&a&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&a&&"string"!=typeof n)for(var t in n)e.d(r,t,function(a){return n[a]}.bind(null,t));return r},e.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(a,"a",a),a},e.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},e.p="",e(e.s=0)}([function(n,a,e){"use strict";function r(n){var a=n.insuranceAndFundBase,e=n.insuranceAndFundRate,r=n.housingFundRange,t={totalFund:0};for(var u in e){var d=u,i=a;"housingFund"!==d&&"supplementaryFund"!==d||(a<r.min?i=r.min:a>r.max&&(i=r.max));var s=e[d]*i;t[d]=s,t.totalFund+=s}return t.totalHousingFund=t.housingFund+t.supplementaryFund,t}function t(n,a){for(var e=0;e<a.length;e++){var r=a[e],t=r.value,u=r.rate,d=r.deduction;if(0===t||t>n)return{rate:u,deduction:d}}return{rate:0,deduction:0}}function u(n){return n.reduce((function(n,a){return n+a}),0)}function d(n){var a=n.accumulatedTaxableIncome,e=n.totalPersonalTncomeTax,r=function(n){return t(n,[{value:36e3,rate:.03,deduction:0},{value:144e3,rate:.1,deduction:2520},{value:3e5,rate:.2,deduction:16920},{value:42e4,rate:.25,deduction:31920},{value:66e4,rate:.3,deduction:52920},{value:96e4,rate:.35,deduction:85920},{value:0,rate:.45,deduction:181920}])}(a);return a*r.rate-r.deduction-0-e}function i(n){var a=n.salary,e=n.yearEndAwards,r=n.yearEndAwardsNumber,u=n.startingSalary,d=e||a*r,i=a>u?d:d-(u-a),s=t(i/12,[{value:3e3,rate:.03,deduction:0},{value:12e3,rate:.1,deduction:210},{value:25e3,rate:.2,deduction:1410},{value:35e3,rate:.25,deduction:2660},{value:55e3,rate:.3,deduction:4410},{value:8e4,rate:.35,deduction:7360},{value:0,rate:.45,deduction:15160}]),o=i*s.rate-s.deduction;return{awardsPreTax:d,awardsTax:o,awardsAfterTax:d-o}}function s(n){var a=n.salary,e=n.specialAdditionalDeduction,t=n.yearEndAwardsNumber,s=n.yearEndAwards,o=n.insuranceAndFundBase,l=n.startingSalary,c=n.insuranceAndFundRate,f=n.insuranceAndFundRateOfCompany,y=n.signingBonus,p=n.housingFundRange;y=function(n){if("number"==typeof n){var a=n;(n=new Array(12)).fill(a)}else for(var e=n.length;e<12;e++)n[e]=0;return n}(y);var A=function(n){var a=n.salary,e=n.insuranceAndFundBase,r=n.insuranceAndFundRate,t=n.insuranceAndFundRateOfCompany;e||(e=a);var u=Object.assign({},t);-1===u.housingFund&&(u.housingFund=r.housingFund);-1===u.supplementaryFund&&(u.supplementaryFund=r.supplementaryFund);return{insuranceAndFundBase:e,insuranceAndFundRateOfCompany:u}}({salary:a,insuranceAndFundBase:o,insuranceAndFundRate:c,insuranceAndFundRateOfCompany:f});o=A.insuranceAndFundBase,f=A.insuranceAndFundRateOfCompany;var m,F=i({salary:a,yearEndAwards:s,yearEndAwardsNumber:t,startingSalary:l}),x=F.awardsPreTax,v=F.awardsTax,g=F.awardsAfterTax,T=r({insuranceAndFundBase:o,insuranceAndFundRate:c,housingFundRange:p}),h=r({insuranceAndFundBase:o,insuranceAndFundRate:f,housingFundRange:p}),b=function(n){for(var a=n.salary,e=n.signingBonus,r=n.startingSalary,t=n.specialAdditionalDeduction,i=n.totalFund,s=n.awardsAfterTax,o=[],l=[],c=0,f=0,y=1;y<13;y++){var p=e[y-1]||0,A=d({accumulatedTaxableIncome:y*a+(f+=p)-0-r*y-i*y-t*y-0,totalPersonalTncomeTax:c}),m=a+p-i-A;o.push(m),l.push(A),c+=A}var F=u(o),x=u(l);return{salaryAfterTax:o,salaryTax:l,totalSalaryAfterTaxExcludeAwards:F,salaryTotalTax:x,totalSalaryAfterTax:F+s}}({salary:a,signingBonus:y,startingSalary:l,specialAdditionalDeduction:e,totalFund:T.totalFund,awardsAfterTax:g}),w=b.salaryAfterTax,R=b.salaryTax,S=b.totalSalaryAfterTaxExcludeAwards,O=b.salaryTotalTax,j=b.totalSalaryAfterTax;return{salaryBase:a,salaryPreTax:y.map((function(n){return n+a})),salaryAfterTax:w,salaryAfterTaxAvg:(m=w,u(m)/m.length),salaryTax:R,salaryTotalTax:O,totalSalaryAfterTaxExcludeAwards:S,totalSalaryPreTax:x+12*a+u(y),totalSalaryAfterTax:j,insuranceAndFund:T,insuranceAndFundOfCompany:h,awardsPreTax:x,awardsTax:v,awardsAfterTax:g}}e.r(a);var o=function(){function n(n){for(var a in void 0===n&&(n={}),this.salary=1e4,this.specialAdditionalDeduction=0,this.yearEndAwardsNumber=2,this.yearEndAwards=0,this.insuranceAndFundBase=0,this.startingSalary=5e3,this.insuranceAndFundRate={pension:.08,medicalInsurance:.02,unemploymentInsurance:.005,maternityInsurance:0,injuryInsurance:0,housingFund:.07,supplementaryFund:.05},this.insuranceAndFundRateOfCompany={pension:.21,medicalInsurance:.11,unemploymentInsurance:.015,maternityInsurance:.01,injuryInsurance:.01,housingFund:-1,supplementaryFund:-1},this.signingBonus=[],this.housingFundRange={min:2590,max:34188},n){var e=a;"object"==typeof n[e]?Object.assign(this[e],n[e]):void 0!==n[e]&&(this[e]=n[e])}}return n.prototype.calculate=function(){return this.salaryResult=s(this),this.salaryResult},n}();a.default=o}]).default}));