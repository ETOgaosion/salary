!function(n){var e={};function t(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return n[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,a){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(a,r,function(e){return n[e]}.bind(null,r));return a},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";function a(n){var e=n.insuranceAndFundBase,t=n.insuranceAndFundRate,a=n.housingFundRange,r={totalFund:0};for(var i in t){var u=i,s=e;"housingFund"!==u&&"supplementaryFund"!==u||(e<a.min?s=a.min:e>a.max&&(s=a.max));var o=t[u]*s;r[u]=o,r.totalFund+=o}return r.totalHousingFund=r.housingFund+r.supplementaryFund,r}function r(n,e){for(var t=0;t<e.length;t++){var a=e[t],r=a.value,i=a.rate,u=a.deduction;if(0===r||r>n)return{rate:i,deduction:u}}return{rate:0,deduction:0}}function i(n){return n.reduce((function(n,e){return n+e}),0)}function u(n){var e=n.accumulatedTaxableIncome,t=n.totalPersonalTncomeTax,a=function(n){return r(n,[{value:36e3,rate:.03,deduction:0},{value:144e3,rate:.1,deduction:2520},{value:3e5,rate:.2,deduction:16920},{value:42e4,rate:.25,deduction:31920},{value:66e4,rate:.3,deduction:52920},{value:96e4,rate:.35,deduction:85920},{value:0,rate:.45,deduction:181920}])}(e);return e*a.rate-a.deduction-0-t}function s(n){var e=n.salary,t=n.yearEndAwards,a=n.yearEndAwardsNumber,i=n.startingSalary,u=t||e*a,s=e>i?u:u-(i-e),o=r(s/12,[{value:3e3,rate:.03,deduction:0},{value:12e3,rate:.1,deduction:210},{value:25e3,rate:.2,deduction:1410},{value:35e3,rate:.25,deduction:2660},{value:55e3,rate:.3,deduction:4410},{value:8e4,rate:.35,deduction:7360},{value:0,rate:.45,deduction:15160}]),d=s*o.rate-o.deduction;return{awardsPreTax:u,awardsTax:d,awardsAfterTax:u-d}}function o(n){var e=n.salary,t=n.specialAdditionalDeduction,r=n.yearEndAwardsNumber,o=n.yearEndAwards,d=n.insuranceAndFundBase,c=n.startingSalary,l=n.insuranceAndFundRate,f=n.insuranceAndFundRateOfCompany,p=n.signingBonus,y=n.housingFundRange;p=function(n){if("number"==typeof n){var e=n;(n=new Array(12)).fill(e)}else for(var t=n.length;t<12;t++)n[t]=0;return n}(p);var x=function(n){var e=n.salary,t=n.insuranceAndFundBase,a=n.insuranceAndFundRate,r=n.insuranceAndFundRateOfCompany;t||(t=e);var i=Object.assign({},r);-1===i.housingFund&&(i.housingFund=a.housingFund);-1===i.supplementaryFund&&(i.supplementaryFund=a.supplementaryFund);return{insuranceAndFundBase:t,insuranceAndFundRateOfCompany:i}}({salary:e,insuranceAndFundBase:d,insuranceAndFundRate:l,insuranceAndFundRateOfCompany:f});d=x.insuranceAndFundBase,f=x.insuranceAndFundRateOfCompany;var m,h=s({salary:e,yearEndAwards:o,yearEndAwardsNumber:r,startingSalary:c}),b=h.awardsPreTax,v=h.awardsTax,A=h.awardsAfterTax,F=a({insuranceAndFundBase:d,insuranceAndFundRate:l,housingFundRange:y}),g=a({insuranceAndFundBase:d,insuranceAndFundRate:f,housingFundRange:y}),T=function(n){for(var e=n.salary,t=n.signingBonus,a=n.startingSalary,r=n.specialAdditionalDeduction,s=n.totalFund,o=n.awardsAfterTax,d=[],c=[],l=0,f=0,p=1;p<13;p++){var y=t[p-1]||0,x=u({accumulatedTaxableIncome:p*e+(f+=y)-0-a*p-s*p-r*p-0,totalPersonalTncomeTax:l}),m=e+y-s-x;d.push(m),c.push(x),l+=x}var h=i(d),b=i(c);return{salaryAfterTax:d,salaryTax:c,totalSalaryAfterTaxExcludeAwards:h,salaryTotalTax:b,totalSalaryAfterTax:h+o}}({salary:e,signingBonus:p,startingSalary:c,specialAdditionalDeduction:t,totalFund:F.totalFund,awardsAfterTax:A}),w=T.salaryAfterTax,I=T.salaryTax,_=T.totalSalaryAfterTaxExcludeAwards,R=T.salaryTotalTax,C=T.totalSalaryAfterTax;return{salaryBase:e,salaryPreTax:p.map((function(n){return n+e})),salaryAfterTax:w,salaryAfterTaxAvg:(m=w,i(m)/m.length),salaryTax:I,salaryTotalTax:R,totalSalaryAfterTaxExcludeAwards:_,totalSalaryPreTax:b+12*e+i(p),totalSalaryAfterTax:C,insuranceAndFund:F,insuranceAndFundOfCompany:g,awardsPreTax:b,awardsTax:v,awardsAfterTax:A}}t.r(e);var d,c=function(){function n(n){for(var e in void 0===n&&(n={}),this.salary=1e4,this.specialAdditionalDeduction=0,this.yearEndAwardsNumber=2,this.yearEndAwards=0,this.insuranceAndFundBase=0,this.startingSalary=5e3,this.insuranceAndFundRate={pension:.08,medicalInsurance:.02,unemploymentInsurance:.005,maternityInsurance:0,injuryInsurance:0,housingFund:.07,supplementaryFund:.05},this.insuranceAndFundRateOfCompany={pension:.21,medicalInsurance:.11,unemploymentInsurance:.015,maternityInsurance:.01,injuryInsurance:.01,housingFund:-1,supplementaryFund:-1},this.signingBonus=[],this.housingFundRange={min:2590,max:34188},n){var t=e;"object"==typeof n[t]?Object.assign(this[t],n[t]):void 0!==n[t]&&(this[t]=n[t])}}return n.prototype.calculate=function(){return this.salaryResult=o(this),this.salaryResult},n}();function l(n,e){void 0===e&&(e=2e3),d||((d=window.document.createElement("div")).setAttribute("style","\n        position: fixed;\n        left: 0;\n        top: 0;\n    "),window.document.body.appendChild(d));var t=window.document.createElement("span");t.setAttribute("style","background-color: rgba(0,0,0,.8);\n    padding: 3px 6px;\n    border-radius: 3px;\n    color: #fff;\n    left: 50%;\n    position: fixed;\n    top: 50%;\n    transform: translate(-50%, -50%);"),t.innerText=n,d.appendChild(t),window.setTimeout((function(){d.removeChild(t)}),e)}var f={salary:{nec:!0,base:!0,text:"月基础工资",unit:"元",info:"每月税前月薪金额"},yearEndAwardsNumber:{nec:!0,base:!0,text:"年终奖月数",unit:"个月",info:"年终奖发几个月的"},yearEndAwards:{nec:!0,base:!0,text:"年终奖总额",unit:"元",info:"年终奖总金额，如果填写该项，计算优先级会高于年终奖月数，当为0时则使用yearEndAwardsNumber计算"},specialAdditionalDeduction:{nec:!0,base:!0,text:"每月专项附加扣除",unit:"元",info:"详情请见个税APP或工资单流水中"},signingBonus:{base:!0,nec:!0,text:"签字费(可按月)",unit:"元",info:"每个月额外奖金，如果需要分12个月单独填写，请使用空格分开"},insuranceAndFundRate:{text:"五险一金个人缴纳部分",nec:!0,pension:{base:!0,text:"养老保险个人缴纳百分比",info:""},medicalInsurance:{base:!0,text:"医疗保险个人缴纳百分比",info:""},unemploymentInsurance:{base:!0,text:"失业保险个人缴纳百分比",info:"个人一般无需缴纳"},injuryInsurance:{base:!0,text:"工伤保险个人缴纳百分比",info:"个人一般无需缴纳"},maternityInsurance:{base:!0,text:"生育保险个人缴纳百分比",info:"个人一般无需缴纳"},housingFund:{nec:!0,base:!0,text:"住房公积金个人缴纳百分比",info:""},supplementaryFund:{nec:!0,base:!0,text:"补充住房公积金个人缴纳百分比",info:""}},insuranceAndFundBase:{base:!0,text:"五险一金计算基数",unit:"元",info:"五险一金的缴费基数以员工上年度平均工资",url:"https://zhidao.baidu.com/question/464011354624682485.html"},startingSalary:{base:!0,text:"个人所得税起征点",unit:"元",info:""},insuranceAndFundRateOfCompany:{text:"五险一金公司缴纳部分",pension:{base:!0,text:"养老保险公司缴纳百分比",info:""},medicalInsurance:{base:!0,text:"医疗保险公司缴纳百分比",info:""},unemploymentInsurance:{base:!0,text:"失业保险公司缴纳百分比",info:""},injuryInsurance:{base:!0,text:"工伤保险公司缴纳百分比",info:""},maternityInsurance:{base:!0,text:"生育保险公司缴纳百分比",info:""},housingFund:{base:!0,text:"住房公积金公司缴纳百分比",info:"当填-1时表示与个人缴纳部分一致"},supplementaryFund:{base:!0,text:"补充住房公积金公司缴纳百分比",info:"当填-1时表示与个人缴纳部分一致"}},housingFundRange:{text:"公积金上下限",min:{base:!0,text:"下限",unit:"元",info:"公积金计算的月薪下限",url:"http://news.sohu.com/a/564484736_121117448"},max:{base:!0,text:"上限",unit:"元",info:"公积金计算的月薪上限",url:"http://news.sohu.com/a/564484736_121117448"}}},p={totalSalaryPreTax:{base:!0,text:"年总税前收入",info:"一年总税前收入"},totalSalaryAfterTax:{base:!0,text:"年总税后收入",info:"一年总税后收入"},totalSalaryAfterTaxExcludeAwards:{base:!0,text:"年总税后收入(不含年终奖)",info:"年总税后收入(不含年终奖)"},salaryBase:{base:!0,text:"月基础工资",info:"月基础工资"},salaryPreTax:{base:!0,text:"每月税前收入",info:"12个月份税前月收入(含奖金津贴)"},salaryAfterTax:{base:!0,text:"每月税后收入",info:"12个月份税后收入"},salaryAfterTaxAvg:{base:!0,text:"每月平均税后输入",info:"12个月份平均税后收入"},salaryTax:{base:!0,text:"每月个人所得税",info:"12个月份个人所得税"},salaryTotalTax:{base:!0,text:"年总个人所得税",info:"一年个人所得税总额"},awardsPreTax:{base:!0,text:"年终奖税前金额",info:""},awardsTax:{base:!0,text:"年终奖个人所得税金额",info:""},awardsAfterTax:{base:!0,text:"年终奖税后金额",info:""},insuranceAndFund:{text:"五险一金个人缴纳部分",pension:{base:!0,text:"养老保险个人缴纳金额",info:""},medicalInsurance:{base:!0,text:"医疗保险个人缴纳金额",info:""},unemploymentInsurance:{base:!0,text:"失业保险个人缴纳金额",info:""},injuryInsurance:{base:!0,text:"工伤保险个人缴纳金额",info:""},maternityInsurance:{base:!0,text:"生育保险个人缴纳金额",info:""},housingFund:{base:!0,text:"住房公积金个人缴纳金额",info:""},supplementaryFund:{base:!0,text:"补充住房公积金个人缴纳金额",info:""},totalFund:{base:!0,text:"五险一金个人缴纳总金额",info:""},totalHousingFund:{base:!0,text:"住房公积金个人缴纳总金额",info:""}},insuranceAndFundOfCompany:{text:"五险一金公司缴纳部分",pension:{base:!0,text:"养老保险公司缴纳金额",info:""},medicalInsurance:{base:!0,text:"医疗保险公司缴纳金额",info:""},unemploymentInsurance:{base:!0,text:"失业保险公司缴纳金额",info:""},injuryInsurance:{base:!0,text:"工伤保险公司缴纳金额",info:""},maternityInsurance:{base:!0,text:"生育保险公司缴纳金额",info:""},housingFund:{base:!0,text:"住房公积金公司缴纳金额",info:""},supplementaryFund:{base:!0,text:"补充住房公积金公司缴纳金额",info:""},totalFund:{base:!0,text:"五险一金公司缴纳总金额",info:""},totalHousingFund:{base:!0,text:"住房公积金个人缴纳总金额",info:""}}};new(function(){function n(){this.emitResultList=[],this.necEls=[],this.salary=new c,this.inputArea=window.document.querySelector(".input-area"),this.resultArea=window.document.querySelector(".result-area"),this._initInputUI(),this._initResultUI(),this._calculate()}return n.prototype._calculate=function(){this.salary.calculate(),this.emitResultList.forEach((function(n){return n()}))},n.prototype._initInputUI=function(){var n=this,e=this._createFragmentCommon({map:f,isInput:!0});this.inputArea.appendChild(e);var t=this._ce("div","input-more"),a=this._ce("span",""),r=this._ce("i","ei-tasks");t.appendChild(r),t.appendChild(a),a.innerText="五险一金详细信息",t.onclick=function(){"五险一金详细信息"===a.innerText?(a.innerText="收起五险一金详细信息",n.necEls.forEach((function(n){return n.classList.add("show")}))):(a.innerText="五险一金详细信息",n.necEls.forEach((function(n){return n.classList.remove("show")})))},this.inputArea.appendChild(t)},n.prototype._initResultUI=function(){var n=this._createFragmentCommon({map:p,isInput:!1});this.resultArea.appendChild(n)},n.prototype._createWrapper=function(n,e){var t=this._ce("div","salary-wrapper"),a=this._ce("div","salary-wrapper-title");return this._checkNec(t,e,n.nec),a.innerText=n.text,t.appendChild(a),t},n.prototype._checkNec=function(n,e,t){void 0===t&&(t=!1),e&&!t&&(n.classList.add("salary-not-nec"),this.necEls.push(n))},n.prototype._createSingleItem=function(n){var e=this,t=n.key,a=n.item,r=n.subKey,i=n.isInput,u=void 0===i||i,s=this._ce("div","salary-item"),o=this._ce("span","salary-title");o.innerText=a.text,s.appendChild(o);var d=this.salary;if(u){this._checkNec(s,u,a.nec);var c=this._ce("input","salary-input"),f=d[t];if(c.value=r?f[r]:f,"signingBonus"!==t&&(c.type="number"),c.onchange=function(){var n,a=c.value;n="signingBonus"!==t?parseFloat(a):-1!==a.indexOf(" ")?a.split(" ").map((function(n){return parseFloat(n)})):parseFloat(a),r?d[t][r]=n:d[t]=n,e._calculate(),l("计算结果已更新")},s.appendChild(c),a.unit){var p=this._ce("span","salary-unit");p.innerText=a.unit,s.appendChild(p)}}else{var y=this._ce("span","salary-result");this.emitResultList.push((function(){var n=d.salaryResult,e=r?n[t][r]:n[t];"number"==typeof e?e=e.toFixed(2)+"元":e instanceof Array&&(e=e.map((function(n,e){return"["+(e+1)+"月:"+n.toFixed(2)+"元]"})).join(" ")),y.innerText=e})),s.appendChild(y)}if(a.info||a.url){var x=this._ce("i","ei-info-sign"),m=a.info||"查看详情";x.title=m,a.url?x.onclick=function(){window.open(a.url.substring(4))}:x.onclick=function(){l(m||"",5e3)},s.appendChild(x)}return s},n.prototype._createFragmentCommon=function(n){var e=n.map,t=n.isInput,a=void 0===t||t,r=window.document.createDocumentFragment();for(var i in e){var u=e[i],s=void 0;if(u.base)s=this._createSingleItem({key:i,item:u,isInput:a});else for(var o in s=this._createWrapper(u,a),u){var d=u[o];"text"!==o&&"nec"!==o&&s.appendChild(this._createSingleItem({key:i,subKey:o,item:d,isInput:a}))}r.appendChild(s)}return r},n.prototype._ce=function(n,e){void 0===e&&(e="");var t=window.document.createElement(n);return e&&(t.className=e),t},n}())}]);